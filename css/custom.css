/* ===== MAGIC MIRROR FULLY RESPONSIVE LAYOUT ===== */

/* Import Google Font - Nunito Sans */
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@300;400;600&display=swap');

/* ===== RESPONSIVE FOUNDATION ===== */

html {
    font-family: 'Nunito Sans', sans-serif;
    margin: 0;
    padding: 0;
    background: #000000;
    background-image:
        radial-gradient(circle at 25% 25%, #111111 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, #0a0a0a 0%, transparent 50%);
    color: #ffffff;
    font-weight: 300;
    line-height: 1.4;
    -webkit-font-smoothing: antialiased;
    /* RESPONSIVE VIEWPORT */
    height: 100%;
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
    width: 100%;
    overflow-x: hidden;
    animation: backgroundPulse 30s ease-in-out infinite;
}

/* RESPONSIVE BODY LAYOUT - CSS GRID SYSTEM */
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height */
    width: 100vw;
    max-width: 100%;
    overflow-x: hidden;
    /* CSS GRID LAYOUT FOR RESPONSIVE DESIGN */
    display: grid;
    grid-template-areas:
        "header header header"
        "left-top center-top right-top"
        "left-middle center-middle right-middle"
        "left-bottom center-bottom right-bottom"
        "footer footer footer";
    grid-template-rows:
        minmax(auto, max-content)     /* header */
        minmax(auto, 1fr)             /* top row */
        minmax(auto, max-content)     /* middle row */
        minmax(auto, max-content)     /* bottom row */
        minmax(auto, max-content);    /* footer */
    grid-template-columns:
        minmax(200px, 1fr)            /* left column */
        minmax(300px, 2fr)            /* center column */
        minmax(200px, 1fr);           /* right column */
    gap: clamp(10px, 2vh, 20px);
    padding: clamp(10px, 2vh, 20px);
    box-sizing: border-box;
}

/* ===== RESPONSIVE GRID REGIONS ===== */

/* HEADER REGION - Clock and Location */
.region.top.center {
    grid-area: header;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: clamp(10px, 2vh, 20px);
    min-height: max-content;
}

.region.upper.third {
    grid-area: header;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    margin-top: clamp(5px, 1vh, 10px);
}

/* TOP ROW REGIONS */
.region.top.left {
    grid-area: left-top;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    padding: clamp(10px, 2vh, 15px);
}

.region.top.right {
    grid-area: right-top;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    padding: clamp(10px, 2vh, 15px);
}

/* BOTTOM ROW REGIONS */
.region.bottom.left {
    grid-area: left-bottom;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: clamp(10px, 2vh, 15px);
}

.region.bottom.center {
    grid-area: center-bottom;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: clamp(10px, 2vh, 15px);
}

.region.bottom.right {
    grid-area: right-bottom;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: clamp(10px, 2vh, 15px);
}

/* FOOTER REGION - News */
.region.bottom.bar {
    grid-area: footer;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: clamp(10px, 2vh, 15px);
    background: rgba(0, 0, 0, 0.8);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    min-height: max-content;
}

/* ===== RESPONSIVE MODULE STYLING ===== */

/* RESPONSIVE MODULE CONTAINERS */
.module {
    width: 100%;
    max-width: 100%;
    padding: clamp(8px, 1.5vh, 15px);
    margin: clamp(5px, 1vh, 10px) 0;
    background: rgba(0, 0, 0, 0.3);
    border-radius: clamp(8px, 1.5vh, 12px);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-sizing: border-box;
    /* PREVENT OVERFLOW */
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    /* RESPONSIVE ANIMATION */
    animation: moduleAppear 1s ease-out;
    transition: all 0.3s ease;
}

/* RESPONSIVE CALENDAR STYLING */
.calendar {
    font-family: 'Cinzel', serif;
    width: 100%;
    max-width: 100%;
}

.calendar .module-header {
    font-family: 'Cinzel', serif;
    font-size: clamp(12px, 2vw, 16px);
    margin-bottom: clamp(8px, 1.5vh, 12px);
    color: #ffffff;
    font-weight: 400;
    text-align: center;
}

.calendar .event {
    margin: clamp(4px, 0.8vh, 8px) 0;
    padding: clamp(4px, 0.8vh, 8px);
    border-radius: clamp(4px, 0.8vh, 6px);
    background: rgba(255, 255, 255, 0.05);
}

.calendar .event[data-calendar-name*="Google"] .symbol {
    color: #4285f4; /* Google blue */
}

.calendar .event[data-calendar-name*="Outlook"] .symbol {
    color: #0078d4; /* Outlook blue */
}

.calendar .event[data-calendar-name*="Google"] .title {
    border-left: 3px solid #4285f4;
    padding-left: clamp(6px, 1vw, 8px);
}

.calendar .event[data-calendar-name*="Outlook"] .title {
    border-left: 3px solid #0078d4;
    padding-left: clamp(6px, 1vw, 8px);
}

.calendar .title {
    font-size: clamp(11px, 1.8vw, 14px);
    line-height: 1.3;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.calendar .time {
    font-size: clamp(10px, 1.6vw, 12px);
    opacity: 0.8;
}

/* RESPONSIVE WEATHER STYLING */
.weather {
    font-family: 'Cinzel', serif;
    width: 100%;
    max-width: 100%;
    text-align: center;
    padding: clamp(8px, 1.5vh, 15px);
}

.weather .module-header {
    font-family: 'Cinzel', serif;
    font-size: clamp(12px, 2vw, 16px);
    margin-bottom: clamp(8px, 1.5vh, 12px);
    color: #ffffff;
    font-weight: 400;
    text-align: center;
}

.weather .current {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(4px, 0.8vh, 8px);
}

.weather .temperature {
    font-family: 'Cinzel', serif;
    font-size: clamp(24px, 4vw, 36px);
    font-weight: 400;
    color: #ffffff;
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.4);
    line-height: 1;
    margin: 0;
}

.weather .weathericon {
    font-size: clamp(28px, 4.5vw, 40px);
    color: #ffffff;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
    line-height: 1;
    margin: 0;
}

.weather .description {
    font-family: 'Cinzel', serif;
    font-size: clamp(10px, 1.6vw, 14px);
    color: #ffffff;
    opacity: 0.8;
    text-transform: capitalize;
    margin: 0;
}

.weather .humidity,
.weather .wind,
.weather .feelslike {
    font-family: 'Cinzel', serif;
    font-size: clamp(8px, 1.4vw, 12px);
    color: #ffffff;
    opacity: 0.7;
    margin: clamp(2px, 0.4vh, 4px) 0;
    line-height: 1.2;
}

/* Remove weather animations to reduce distraction */
.weather .temperature,
.weather .weathericon {
    animation: none !important;
}

/* RESPONSIVE WEATHER TABLE */
.weather table {
    width: 100%;
    table-layout: fixed;
}

.weather table td {
    word-wrap: break-word;
    overflow-wrap: break-word;
    padding: clamp(2px, 0.4vh, 4px);
    font-size: clamp(8px, 1.4vw, 12px);
}

/* RESPONSIVE NEWS FEED STYLING */
.newsfeed {
    width: 100%;
    max-width: 100%;
    background: transparent; /* Remove background as it's handled by region */
    padding: 0;
    animation: slideUp 1s ease-out;
    overflow: hidden;
}

@keyframes slideUp {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.newsfeed .newsfeed-source {
    font-family: 'Cinzel', serif;
    color: #ffffff;
    font-weight: 400;
    margin-right: clamp(6px, 1vw, 8px);
    opacity: 0.7;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: clamp(8px, 1.4vw, 12px);
    display: inline-block;
}

.newsfeed .newsfeed-title {
    font-family: 'Cinzel', serif;
    font-weight: 400;
    color: #ffffff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    font-size: clamp(10px, 1.6vw, 14px);
    line-height: 1.3;
    /* RESPONSIVE SCROLLING TEXT */
    white-space: nowrap;
    overflow: hidden;
    animation: scrollText 30s linear infinite;
    display: inline-block;
    padding-left: 100%;
}

@keyframes scrollText {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

/* RESPONSIVE NEWS LIST */
.newsfeed-list {
    list-style: none;
    margin: 0;
    padding: 0;
    width: 100%;
    max-width: 100%;
}

.newsfeed-list li {
    margin: clamp(4px, 0.8vh, 8px) 0;
    padding: clamp(4px, 0.8vh, 8px);
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.3;
}

/* RESPONSIVE PHOTO SLIDESHOW STYLING */
.MMM-ImageSlideshow {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    border-radius: clamp(8px, 1.5vh, 12px);
    background: rgba(0, 0, 0, 0.2);
    padding: clamp(8px, 1.5vh, 12px);
    display: flex;
    align-items: center;
    justify-content: center;
}

/* RESPONSIVE IMAGE SIZING */
.MMM-ImageSlideshow img {
    transition: all 1.5s ease;
    filter: contrast(1.2) brightness(1.1);
    /* RESPONSIVE IMAGE DIMENSIONS */
    width: 100%;
    max-width: clamp(120px, 20vw, 200px);
    height: auto;
    aspect-ratio: 3/2; /* Maintain aspect ratio */
    object-fit: cover;
    border-radius: clamp(6px, 1vh, 8px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    /* SUBTLE COLOR GRADIENT OVERLAY */
    background: linear-gradient(
        135deg,
        rgba(138, 43, 226, 0.2) 0%,
        rgba(30, 144, 255, 0.2) 25%,
        rgba(0, 191, 255, 0.2) 50%,
        rgba(255, 20, 147, 0.2) 75%,
        rgba(255, 69, 0, 0.2) 100%
    );
    background-blend-mode: overlay;
}

/* RESPONSIVE HOVER EFFECTS */
.MMM-ImageSlideshow img:hover {
    filter: contrast(1.3) brightness(1.2) saturate(1.2);
    transform: scale(1.02);
    box-shadow:
        0 6px 20px rgba(0, 0, 0, 0.6),
        inset 0 0 0 2px rgba(138, 43, 226, 0.3),
        inset 0 0 20px rgba(30, 144, 255, 0.2);
}

@keyframes imageZoom {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}

/* RESPONSIVE IMAGE CONTAINER */
@media (max-width: 768px) {
    .MMM-ImageSlideshow img {
        max-width: clamp(100px, 25vw, 150px);
    }
}

@media (max-width: 480px) {
    .MMM-ImageSlideshow img {
        max-width: clamp(80px, 30vw, 120px);
    }
}

/* RESPONSIVE LOCATION DISPLAY STYLING */
.MMM-ip,
.MMM-SimpleLocation {
    font-family: 'Cinzel', serif;
    text-align: center;
    font-weight: 400;
    color: #ffffff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
    letter-spacing: 1px;
    font-size: clamp(12px, 2vw, 18px);
    padding: clamp(4px, 0.8vh, 8px);
    margin: clamp(2px, 0.4vh, 4px) 0;
    line-height: 1.2;
    animation: slideInDown 1s ease-out;
}

@keyframes slideInDown {
    from { transform: translateY(-100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* RESPONSIVE COMPLIMENTS STYLING */
.compliments {
    font-family: 'Nunito Sans', sans-serif;
    font-size: clamp(18px, 3.5vw, 28px);
    font-weight: 400;
    text-align: center;
    color: #ffffff;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
    font-style: normal;
    margin: 0;
    letter-spacing: 0.5px;
    line-height: 1.3;
    padding: clamp(15px, 3vh, 25px);
    background: rgba(0, 0, 0, 0.2);
    border-radius: clamp(15px, 3vh, 20px);
    backdrop-filter: blur(10px);
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* RESPONSIVE CLOCK STYLING */
.clock {
    font-family: 'Nunito Sans', sans-serif;
    text-align: center;
    color: #ffffff;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
    margin: 0;
    padding: clamp(10px, 2vh, 20px);
}

.clock .time {
    font-size: clamp(32px, 6vw, 56px);
    font-weight: 600;
    line-height: 1;
    margin: 0;
    letter-spacing: -1px;
}

.clock .date {
    font-size: clamp(14px, 2.5vw, 18px);
    font-weight: 400;
    opacity: 0.9;
    margin: clamp(5px, 1vh, 10px) 0 0 0;
    line-height: 1.2;
}

/* ===== RESPONSIVE BREAKPOINTS ===== */

/* TABLET LAYOUT - 768px and below */
@media (max-width: 768px) {
    body {
        grid-template-areas:
            "header header header"
            "left-top left-top left-top"
            "right-top right-top right-top"
            "center-bottom center-bottom center-bottom"
            "left-bottom right-bottom right-bottom"
            "footer footer footer";
        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows:
            minmax(auto, max-content)     /* header */
            minmax(auto, max-content)     /* calendar row */
            minmax(auto, max-content)     /* weather row */
            minmax(auto, max-content)     /* compliments row */
            minmax(auto, max-content)     /* images/voice row */
            minmax(auto, max-content);    /* footer */
        gap: clamp(8px, 1.5vh, 15px);
        padding: clamp(8px, 1.5vh, 15px);
    }

    .region.top.left,
    .region.top.right {
        grid-column: 1 / -1; /* Full width */
    }

    .region.bottom.left {
        grid-column: 1 / 2;
    }

    .region.bottom.right {
        grid-column: 2 / -1;
    }
}

/* MOBILE LAYOUT - 480px and below */
@media (max-width: 480px) {
    body {
        grid-template-areas:
            "header"
            "left-top"
            "right-top"
            "center-bottom"
            "left-bottom"
            "right-bottom"
            "footer";
        grid-template-columns: 1fr;
        grid-template-rows: repeat(7, minmax(auto, max-content));
        gap: clamp(6px, 1vh, 12px);
        padding: clamp(6px, 1vh, 12px);
    }

    .region.bottom.left,
    .region.bottom.right {
        grid-column: 1;
    }

    /* MOBILE-SPECIFIC MODULE ADJUSTMENTS */
    .module {
        padding: clamp(6px, 1vh, 10px);
        margin: clamp(3px, 0.6vh, 6px) 0;
    }

    .clock .time {
        font-size: clamp(24px, 8vw, 36px);
    }

    .clock .date {
        font-size: clamp(12px, 3vw, 16px);
    }

    .compliments {
        font-size: clamp(14px, 4vw, 20px);
        padding: clamp(10px, 2vh, 15px);
    }
}

/* LARGE DESKTOP LAYOUT - 1440px and above */
@media (min-width: 1440px) {
    body {
        max-width: 1920px;
        margin: 0 auto;
        grid-template-columns:
            minmax(300px, 1fr)            /* left column */
            minmax(400px, 2fr)            /* center column */
            minmax(300px, 1fr);           /* right column */
        gap: clamp(20px, 3vh, 30px);
        padding: clamp(20px, 3vh, 30px);
    }

    .clock .time {
        font-size: clamp(48px, 4vw, 64px);
    }

    .compliments {
        font-size: clamp(24px, 2.5vw, 32px);
    }
}

/* PORTRAIT ORIENTATION ADJUSTMENTS */
@media (orientation: portrait) and (max-width: 768px) {
    body {
        grid-template-rows:
            minmax(auto, max-content)     /* header - smaller */
            minmax(auto, 1fr)             /* calendar - expandable */
            minmax(auto, max-content)     /* weather */
            minmax(auto, max-content)     /* compliments */
            minmax(auto, max-content)     /* images/voice */
            minmax(auto, max-content);    /* footer */
    }
}

/* Hide ALL debug elements */
.debug-console,
.debug-toggle,
.debug-info,
.debug-panel,
.console-log,
.console-error,
.console-warn,
.console-info,
.console-debug,
[class*="debug"],
[id*="debug"],
.alert,
.updatenotification {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* ===== RESPONSIVE UTILITIES AND FIXES ===== */

/* ENSURE ALL MODULES ARE VISIBLE */
.module.clock,
.module {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* FORCE CLOCK VISIBILITY */
.clock,
.clock .time,
.clock .date {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: #ffffff !important;
}

/* ENSURE CLOCK CONTENT IS ALWAYS PRESENT */
.clock .time:empty::before {
    content: "Loading...";
    color: #ffffff;
    opacity: 0.7;
}

/* RESPONSIVE OVERFLOW PROTECTION */
.region,
.module {
    box-sizing: border-box;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
    overflow: hidden;
}

/* RESPONSIVE TEXT HANDLING */
.module * {
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}

/* RESPONSIVE IMAGES */
img {
    max-width: 100%;
    height: auto;
    box-sizing: border-box;
}

/* RESPONSIVE TABLES */
table {
    width: 100%;
    table-layout: fixed;
    border-collapse: collapse;
}

table td,
table th {
    word-wrap: break-word;
    overflow-wrap: break-word;
    padding: clamp(2px, 0.4vh, 4px);
    vertical-align: top;
}

/* PREVENT HORIZONTAL SCROLL */
html, body {
    overflow-x: hidden;
    max-width: 100vw;
}

/* RESPONSIVE ANIMATIONS */
@keyframes moduleAppear {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ===== ACCESSIBILITY AND PERFORMANCE ===== */

/* REDUCE MOTION FOR USERS WHO PREFER IT */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* HIGH CONTRAST MODE SUPPORT */
@media (prefers-contrast: high) {
    .module {
        border: 2px solid rgba(255, 255, 255, 0.5);
    }

    .clock {
        border-bottom: 2px solid rgba(255, 255, 255, 0.7);
    }
}

/* DARK MODE SUPPORT (DEFAULT) */
@media (prefers-color-scheme: dark) {
    :root {
        --color-background: #000000;
        --color-text: #ffffff;
        --color-text-dimmed: #999999;
        --color-text-bright: #ffffff;
    }
}

/* RESPONSIVE TOUCH TARGETS */
@media (pointer: coarse) {
    .module {
        min-height: 44px; /* Minimum touch target size */
        padding: clamp(12px, 2vh, 20px);
    }

    button,
    .clickable {
        min-height: 44px;
        min-width: 44px;
        padding: clamp(8px, 1.5vh, 12px);
    }
}

/* PRINT STYLES */
@media print {
    body {
        background: white !important;
        color: black !important;
        grid-template-areas:
            "header"
            "left-top"
            "right-top"
            "center-bottom"
            "footer";
        grid-template-columns: 1fr;
    }

    .module {
        animation: none !important;
        background: transparent !important;
        border: 1px solid #ccc !important;
        page-break-inside: avoid;
    }

    /* Hide interactive elements in print */
    #jarvis-preloader,
    .jarvis-notification,
    .MMM-WSLVoice,
    .newsfeed {
        display: none !important;
    }
}

/* RESPONSIVE SCROLLBAR STYLING */
::-webkit-scrollbar {
    width: clamp(4px, 0.5vw, 8px);
    background: transparent;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: clamp(2px, 0.25vw, 4px);
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: clamp(2px, 0.25vw, 4px);
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
}

/* FOCUS STATES FOR ACCESSIBILITY */
.module:focus,
.calendar .event:focus,
.weather:focus,
button:focus,
.clickable:focus {
    outline: 2px solid rgba(255, 255, 255, 0.7);
    outline-offset: 2px;
    border-radius: clamp(4px, 0.8vh, 6px);
}

/* RESPONSIVE HOVER EFFECTS */
@media (hover: hover) {
    .module:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateY(-2px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
    }

    .calendar .event:hover,
    .weather:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-1px);
        transition: all 0.2s ease;
    }
}

/* ===== FINAL RESPONSIVE OPTIMIZATIONS ===== */

/* ENSURE SMOOTH TRANSITIONS */
* {
    transition: all 0.3s ease;
}

/* RESPONSIVE LOADING STATES */
.loading {
    opacity: 0.6;
    animation: loadingPulse 2s ease-in-out infinite;
}

@keyframes loadingPulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 0.9;
        transform: scale(1.01);
    }
}

/* RESPONSIVE ERROR STATES */
.error {
    color: #ff6b6b;
    background: rgba(255, 107, 107, 0.1);
    border: 1px solid rgba(255, 107, 107, 0.3);
    border-radius: clamp(4px, 0.8vh, 6px);
    padding: clamp(8px, 1.5vh, 12px);
    margin: clamp(4px, 0.8vh, 8px) 0;
}

/* RESPONSIVE SUCCESS STATES */
.success {
    color: #51cf66;
    background: rgba(81, 207, 102, 0.1);
    border: 1px solid rgba(81, 207, 102, 0.3);
    border-radius: clamp(4px, 0.8vh, 6px);
    padding: clamp(8px, 1.5vh, 12px);
    margin: clamp(4px, 0.8vh, 8px) 0;
}

/* RESPONSIVE UTILITY CLASSES */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.flex { display: flex; }
.flex-column { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-center { align-items: center; justify-content: center; }
.flex-wrap { flex-wrap: wrap; }

.hidden { display: none !important; }
.visible { display: block !important; }

.responsive-margin { margin: clamp(4px, 0.8vh, 8px); }
.responsive-padding { padding: clamp(8px, 1.5vh, 12px); }

/* RESPONSIVE GRID UTILITIES */
.grid { display: grid; }
.grid-center { place-items: center; }
.grid-gap { gap: clamp(8px, 1.5vh, 12px); }

/* FINAL RESPONSIVE CHECKS */
@media (max-width: 320px) {
    /* VERY SMALL SCREENS */
    body {
        padding: clamp(4px, 0.8vh, 8px);
        gap: clamp(4px, 0.8vh, 8px);
    }

    .module {
        padding: clamp(4px, 0.8vh, 8px);
        margin: clamp(2px, 0.4vh, 4px) 0;
    }

    .clock .time {
        font-size: clamp(20px, 6vw, 28px);
    }

    .compliments {
        font-size: clamp(12px, 3.5vw, 16px);
    }
}

@media (min-width: 2560px) {
    /* ULTRA-WIDE SCREENS */
    body {
        max-width: 2560px;
        margin: 0 auto;
    }

    .clock .time {
        font-size: clamp(56px, 3vw, 72px);
    }

    .compliments {
        font-size: clamp(28px, 2vw, 36px);
    }
}

/* RESPONSIVE CONTAINER QUERIES SUPPORT */
@supports (container-type: inline-size) {
    .module {
        container-type: inline-size;
    }

    @container (max-width: 300px) {
        .module {
            padding: clamp(6px, 1vh, 10px);
        }

        .module * {
            font-size: clamp(10px, 2vw, 14px);
        }
    }
}

/* ===== VOICE CONTROL RESPONSIVE STYLING ===== */
.MMM-WSLVoice {
    font-family: 'Nunito Sans', sans-serif;
    font-size: clamp(10px, 1.6vw, 14px);
    opacity: 0.8;
    padding: clamp(8px, 1.5vh, 12px);
    background: rgba(0, 0, 0, 0.3);
    border-radius: clamp(6px, 1vh, 8px);
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* ===== JARVIS INTEGRATION RESPONSIVE ===== */
body.jarvis-welcome {
    animation: jarvis-system-boot 2s ease-out;
}

@keyframes jarvis-system-boot {
    0% { filter: brightness(0.3); }
    50% { filter: brightness(1.2); }
    100% { filter: brightness(1); }
}

body.jarvis-welcome .module {
    animation: jarvis-module-online 1s ease-out forwards;
    opacity: 0;
    transform: translateY(20px);
}

@keyframes jarvis-module-online {
    0% {
        opacity: 0;
        transform: translateY(20px);
        filter: brightness(0.5);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
        filter: brightness(1);
    }
}

/* STAGGER MODULE ANIMATIONS */
body.jarvis-welcome .region.top .module { animation-delay: 0.2s; }
body.jarvis-welcome .region.middle .module { animation-delay: 0.4s; }
body.jarvis-welcome .region.bottom .module { animation-delay: 0.6s; }
body.jarvis-welcome .region.fullscreen .module { animation-delay: 0.8s; }

/* ENHANCED GLOW EFFECTS */
body.jarvis-welcome .clock .time {
    text-shadow:
        0 0 10px rgba(255, 255, 255, 0.8),
        0 0 20px rgba(0, 212, 255, 0.3),
        0 0 30px rgba(0, 212, 255, 0.1);
}

body.jarvis-welcome .weather .weathericon {
    filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.5));
}

/* JARVIS NOTIFICATION RESPONSIVE */
.jarvis-notification {
    position: fixed !important;
    top: clamp(10px, 2vh, 20px) !important;
    right: clamp(10px, 2vw, 20px) !important;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.9), rgba(0, 153, 204, 0.9)) !important;
    color: white !important;
    padding: clamp(10px, 2vh, 15px) clamp(15px, 3vw, 25px) !important;
    border-radius: clamp(15px, 3vh, 25px) !important;
    font-family: 'Orbitron', monospace !important;
    font-size: clamp(12px, 2vw, 14px) !important;
    z-index: 9999 !important;
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    backdrop-filter: blur(10px) !important;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3) !important;
    letter-spacing: 1px !important;
    max-width: clamp(200px, 40vw, 300px) !important;
    word-wrap: break-word !important;
}


/* ===== FINAL RESPONSIVE VALIDATION ===== */

/* ENSURE PERFECT RESPONSIVE BEHAVIOR */
html {
    scroll-behavior: smooth;
}

/* RESPONSIVE FONT LOADING */
@font-face {
    font-family: 'Nunito Sans';
    font-display: swap; /* Improve loading performance */
}

@font-face {
    font-family: 'Cinzel';
    font-display: swap; /* Improve loading performance */
}

/* RESPONSIVE PERFORMANCE OPTIMIZATIONS */
.module {
    will-change: transform, opacity;
    contain: layout style paint;
}

/* RESPONSIVE SAFE AREAS FOR MOBILE DEVICES */
@supports (padding: max(0px)) {
    body {
        padding-left: max(var(--gap-body-left), env(safe-area-inset-left));
        padding-right: max(var(--gap-body-right), env(safe-area-inset-right));
        padding-top: max(var(--gap-body-top), env(safe-area-inset-top));
        padding-bottom: max(var(--gap-body-bottom), env(safe-area-inset-bottom));
    }
}

/* RESPONSIVE VALIDATION - NO FIXED SIZES */
.region,
.module,
.calendar,
.weather,
.newsfeed,
.compliments,
.clock,
.MMM-ImageSlideshow,
.MMM-WSLVoice,
.MMM-SimpleLocation {
    /* ENSURE ALL ELEMENTS ARE FULLY RESPONSIVE */
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

/* FINAL RESPONSIVE CHECK - PREVENT ANY OVERLAPPING */
@media (max-height: 600px) {
    /* SHORT SCREENS */
    body {
        grid-template-rows:
            minmax(auto, max-content)     /* header - minimal */
            minmax(auto, max-content)     /* top row - minimal */
            minmax(auto, max-content)     /* middle row - minimal */
            minmax(auto, max-content)     /* bottom row - minimal */
            minmax(auto, max-content);    /* footer - minimal */
        gap: clamp(4px, 0.8vh, 8px);
    }

    .module {
        padding: clamp(4px, 0.8vh, 8px);
        margin: clamp(2px, 0.4vh, 4px) 0;
    }
}

/* RESPONSIVE SUCCESS CONFIRMATION */
.responsive-magic-mirror {
    /* THIS CLASS CONFIRMS FULL RESPONSIVE IMPLEMENTATION */
    display: grid;
    grid-template-areas:
        "header header header"
        "left-top center-top right-top"
        "left-middle center-middle right-middle"
        "left-bottom center-bottom right-bottom"
        "footer footer footer";
    width: 100vw;
    max-width: 100%;
    height: 100vh;
    min-height: 100dvh;
    overflow-x: hidden;
    box-sizing: border-box;
}

/* RESPONSIVE MAGIC MIRROR COMPLETE */


